@(tastings: Seq[Tasting])(implicit session:Session)

@import helper._
@import tags._

@implicitFieldConstructor = @{ FieldConstructor(twitterBootstrapInput.render) }

@main {

<div class="row-fluid" style="margin-top: 30px">
    <div class=" content span9">
        <div>
        <ul class="thumbnails">
            @if(tastings.isEmpty) {
             <li>
                 <a href="tasting" class="thumbnail plain">
                     <h4>New Tasting</h4>
                 </a>
             </li>
            }
            @if(!tastings.isEmpty) {
                @tastings.map { tasting =>
                <li >
                    <a href="tasting/@tasting.id" class="thumbnail plain"  style="background:white" >
                        <img class="img-rounded" src="@S3File(tasting.userId.get, tasting.id.toString).getUrl" alt="" width="370"/>
                        <div style="margin-bottom:40px"><h4 align="left">@tasting.year @tasting.brand @tasting.style</h4>
                            <div style="float:left">@rating(Some(tasting.id.get.toString), tasting.rating.getOrElse(0).toString)</div>
                        </div>
                    </a>
                </li>
                }
            }
        </ul>
        </div>
    </div>
    <div class="span3">
        <div class="well sidebar-nav">
            <ul class="nav nav-list">
                <li class="nav-header"><h4>Trending Wines</h4></li>
                 @Tasting.trending.map{ tasting =>
                <li><a href="#">@tasting.year @tasting.brand @tasting.style</a></li>
                }
                <li class="nav-header"><h4>Recent Member Entries</h4></li>
                @Tasting.mostRecent.map{ tasting =>
                <li><a href="#">@tasting.year @tasting.brand @tasting.style</a></li>
                }
            </ul>
        </div>
    </div>
</div>

}