@(id:Option[Long], tastingForm: Form[models.Tasting])(implicit session:Session)

@import helper._
@import tags._

@implicitFieldConstructor = @{ FieldConstructor(twitterBootstrapInput.render) }

@main {

<div class="page-header">
    <h1>Tasting Log
    </h1>

</div>

<div class="row-fluid">
    <div class="span2 hidden-phone">&nbsp;</div>
        @form(if(id == None) routes.EditTasting.saveNew() else routes.EditTasting.update(id.get), 'id -> "tasting-form", 'enctype -> "multipart/form-data") {
    <div class="span2">

        <div>
            <label>Rating</label>
            <div class="input">
                @rating(None, tastingForm("rating").value.getOrElse("0"))
            </div>
        </div>


        <fieldset>
            @inputText(tastingForm("brand"), '_label -> "Brand")
            @inputText(tastingForm("style"), '_label -> "Grape/Varietal")
            @inputText(tastingForm("region"), '_label -> "Origin")
            @inputText(tastingForm("year"), '_label -> "Year")
        </fieldset>
    </div>
    <!--<div class="clearfix" style="margin-top:20px">-->
        <div class="span6">
            <div class="row-fluid">
            <img id="tasting-image" style="max-width:300px; border:solid; border-width:2px;border-color:gray;" class="img-rounded" @if(id==None) {src="/assets/images/notavailable.jpeg" } else {src="/assets/images/user/image_@id" } alt="" height="500" width="450">
            </div>
            <div class="row-fluid">
                <input type="file" name="image"  />
            </div>
        </div>
    <!--</div>-->

        }
        @if(id != None) {
          @form(routes.EditTasting.delete(id.get), 'id -> "deleteForm") {
        }
    }
</div>
<div style="margin-top:40px;" class="row-fluid">
    <div class="span2">&nbsp;</div>
    <a href="#" class="btn btn-primary" onclick="document.forms['tasting-form'].submit()">Save</a>
    @if(id !=None) {
    <a href="#" class="btn btn-warning" onclick="document.forms['deleteForm'].submit(); return false;">Delete</a>
    }
</div>

}